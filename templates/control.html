<!DOCTYPE html>
<html>
<head>
    <title>Spherical Robot</title>
    <link rel="stylesheet" type="text/css" href="../static/styles.css">
    <link rel="stylesheet" href="/styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
    <div class="container">

        <div class="left_logo">
            <img src="iitb_logo.png" alt="">
        </div>

        <div class="right_logo">
            <img src="ncetis_logo.png" alt="">
        </div>
       
        <div class="control-panel left">
            <label for="verticalControl"></label>
            <input type="range" min="0" max="100" value="50" class="seekbar vertical-seekbar" id="verticalControl">
        </div>

        <div class="camera-view">
            <img src="{{ url_for('video_feed') }}" alt="Live Video Feed">
        </div>

        <div class="control-panel right">
            <label for="horizontalControl"></label>
            <input type="range" min="0" max="100" value="50" class="seekbar horizontal-seekbar" id="horizontalControl">
        </div>
    </div>

    <script>
        function updateControls() {
            $.ajax({
                url: '/update_controls',
                type: 'POST',
                data: {
                    motor_speed: $('#verticalControl').val(),
                    servo_angle: $('#horizontalControl').val()
                },
                success: function(response) {
                    console.log('Control updated successfully.');
                },
                error: function(error) {
                    console.error('Error updating control:', error);
                }
            });
        }

        $('#verticalControl').on('input', updateControls);
        $('#horizontalControl').on('input', updateControls);

        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
            }
        }
    </script>
</body>
</html>